generator client {
  provider = "notion-orm"
  output   = "./src/generated"
  types    = "notionTypes.ts"
  client   = "notionClient.ts"
}

model Action {
  // id: ***REMOVED***
  name      String  @map("アクション") @title
  manager   Json    @map("担当者") @people
  completed Boolean @map("完了") @checkbox

  objective  Objective[] @map("Objective") @relation
  dayOfWeek  String[]    @map("曜日") @multiSelect
  date       DateTime?   @map("Date") @date
  connection String[]    @map("連携先") @multiSelect
  timeline   Timeline[]  @map("Timeline") @relation
  output     String      @map("アウトプット") @richText
}

model Objective {
  // id: ***REMOVED***
  name              String      @map("Name") @title
  completed         Boolean?    @map("完了") @checkbox
  emphasized        Boolean?    @map("注力") @checkbox
  subItem           Objective[] @map("Sub-item") @relation
  similarPage       String[]    @map("似てるページ") @relation
  date              String?     @map("日付") @date
  manager           Json?       @map("責任者") @people
  archived          Boolean?    @map("アーカイブ") @checkbox
  oykotTimeline     String[]    @map("OYKOT Timeline") @relation
  action            String[]    @map("Action") @relation
  objectiveProgress String?     @map("Objective進行度") @formula
  parentItem        Objective[] @map("Parent item") @relation
  actionProgress    String?     @map("Action進行度") @formula
}

model Document {
  // id: ***REMOVED***
  name   String   @map("Name") @title
  domain Domain[] @map("Domain") @relation
  subDomainCand?   String[]    @multiSelect  @map("サブドメイン候補")
  createdAt?       DateTime?   @createdTime  @map("作成日時")
  createdBy?       Json?       @createdBy    @map("作成者")
}

model Domain {
  // id: ***REMOVED***
  name String @map("Name") @title
  description?     String        @richText  @map("description")
  archive?         Boolean       @checkbox  @map("Archive")
  person?          Json          @people    @map("Person")
  domainParent?    Domain[]      @relation  @map("Domainとのリレーション（Parent item）")
  parentItem?      Domain[]      @relation  @map("Parent item")
  documents?       Document[]    @relation  @map("🏖️ 議事録")
}

model Timeline {
  // id: 353adc9979f641559ae12fb91660beeb
  name      String      @map("Name") @title
  subItem   Timeline[]  @map("Sub-item") @relation
  objective Objective[] @map("OYKOT OKR") @relation
  kpt?        String[]     @relation  @map("OYKOT KPT")
  actions?    Action[]     @relation  @map("OYKOT Action")
  display?    Boolean      @checkbox  @map("表示用")
  parentItem? Timeline[]   @relation  @map("Parent item")
}
